# ==============================================================================
# LINKKK BACKEND - ENVIRONMENT VARIABLES
# ==============================================================================
# Copy this file to .env and fill in the values
# IMPORTANT: Never commit .env file to version control!
# ==============================================================================

# ==============================================================================
# DATABASE CONFIGURATION
# ==============================================================================
DATABASE_URL="postgresql://user:password@localhost:5432/linkkk"

# ==============================================================================
# SERVER CONFIGURATION
# ==============================================================================
PORT=4444

# Environment: production | development | test
# This is the MAIN variable that controls all environment-specific behavior
NODE_ENV="development"

# ==============================================================================
# FRONTEND CONFIGURATION
# ==============================================================================
# Frontend URL for CORS and redirects
# Development: Usually http://localhost:3000 or http://localhost:3001
# Production: Your actual frontend URL (e.g., https://linkkk.dev)
FRONTEND_URL="http://localhost:3000"

# ==============================================================================
# JWT SECRET KEYS
# ==============================================================================
# CRITICAL SECURITY: Generate strong random keys for production!
# Generate using: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
#
# AUTH SECRET: Used for authenticated user tokens
V2_AUTH_SECRET_KEY="your-super-secret-auth-key-change-this-in-production-min-64-chars"

# GUEST SECRET: Used for guest session tokens
V2_GUEST_SECRET_KEY="your-super-secret-guest-key-change-this-in-production-min-64-chars"

# ==============================================================================
# JWT SECRET ROTATION (Optional - Advanced)
# ==============================================================================
# For zero-downtime secret rotation
# During rotation, set these to the OLD secrets while using new secrets above
# Remove after 7 days (token expiry period)
# More info: https://cheatsheetseries.owasp.org/cheatsheets/Cryptographic_Storage_Cheat_Sheet.html
#
# V2_AUTH_SECRET_KEY_PREVIOUS="previous-auth-secret-during-rotation"
# V2_GUEST_SECRET_KEY_PREVIOUS="previous-guest-secret-during-rotation"

# JWT Secret Creation Dates (Optional - helps track when to rotate)
# OWASP Recommendation: Rotate every 90 days
# V2_AUTH_SECRET_CREATED="2025-01-17"
# V2_GUEST_SECRET_CREATED="2025-01-17"

# ==============================================================================
# PAYMENT CONFIGURATION (Optional)
# ==============================================================================
# Stripe Configuration
# STRIPE_SECRET_KEY="sk_test_..."
# STRIPE_PUBLISHABLE_KEY="pk_test_..."

# ==============================================================================
# NOTES
# ==============================================================================
# What changes between development and production:
#
# DEVELOPMENT (NODE_ENV=development):
# - CORS: Permissive (allows all localhost origins)
# - Rate limits: Relaxed (1000 req/window)
# - HSTS: Disabled
# - Cookies: secure=false, sameSite=lax
# - Logging: Debug level with stack traces
#
# PRODUCTION (NODE_ENV=production):
# - CORS: Strict (only FRONTEND_URL)
# - Rate limits: Strict (5-500 req/window)
# - HSTS: Enabled
# - Cookies: secure=true, sameSite=strict
# - Logging: Info level without stack traces
#
# You should ONLY need to change NODE_ENV and environment-specific values
# (like FRONTEND_URL, DATABASE_URL, etc.)
# ==============================================================================
